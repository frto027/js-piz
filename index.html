<htm>
    <body>
        <div id="yes_or_no" src-lua-permission="write_text">change me</div>
        <button id="yes_or_no1" src-lua-permission="click">click me</button>
        <button id="yes_or_no3" src-lua-permission="click">hit this</button>
        <script>
                window.onLuaInit = window.onLuaInit || []
                window.onLuaInit.push(function(){
                    window.luaExecute(`
                    local a,b,c = dom.getElementById("yes_or_no"),dom.getElementById("yes_or_no1"),dom.getElementById("yes_or_no3")
                    dom.onClick(b,function() dom.setText(a,"1") end)
                    dom.onClick(c,function() dom.setText(a,"2") end)
                    onMessage("start",function(name) print((name or "nop") .. ' started') end)
                    `, "<init hello>")
                    window.luaRegisterCallback("clickMe", "SI","SI",function(which, times){
                        console.log("the lua program clicked 【", which, "】 times: ", times)
                        return ['aaa',5]
                    })

                    window.luaExecute("local a,b = vmcallback('clickMe', 'the clock', 3) print(a,b)")
                })
        </script>
        <script src="out.js"></script>
        
    </body>
</htm>